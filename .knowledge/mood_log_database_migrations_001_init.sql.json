{"is_source_file": true, "format": "SQL", "description": "This file contains SQL schema definitions and database migration logic for initializing the MoodLog application's database. It creates core tables such as 'schema_migrations', 'users', and 'moods', with conditional logic to handle extension availability and defaults.", "external_files": ["000_extensions.sql"], "external_methods": ["gen_random_uuid()", "NOW()"], "published": [], "classes": [], "methods": [], "calls": ["PERFORM 1", "IF EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'citext') THEN", "CREATE TABLE IF NOT EXISTS schema_migrations", "CREATE TABLE IF NOT EXISTS users", "CREATE TABLE IF NOT EXISTS moods", "SELECT 1 FROM pg_extension WHERE extname = 'citext'", "SELECT 1 FROM pg_indexes WHERE schemaname = 'public' AND indexname = 'users_email_lower_unique_idx'", "CREATE UNIQUE INDEX users_email_lower_unique_idx ON users (LOWER(email))"], "search-terms": ["migration", "schema_migrations", "users table", "moods table", "postgres extension detection", "citext", "UUID", "initial schema"], "state": 2, "file_id": 8, "knowledge_revision": 27, "git_revision": "d94cadac7693230570e2cdddc6617b5b7fbf1ea2", "hash": "efb7c5892bfc399c3e120a04b82db059", "format-version": 4, "code-base-name": "mood_log_database", "filename": "mood_log_database/migrations/001_init.sql", "revision_history": [{"27": "d94cadac7693230570e2cdddc6617b5b7fbf1ea2"}]}